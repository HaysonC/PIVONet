[backend]
precision = double

[constants]
gamma = 1.4

[solver]
system = euler
order  = 2
anti-alias = none
shock-capturing = none

[solver-time-integrator]
formulation = std
scheme      = rk4        ; explicit RK4
controller  = none       ; fixed time step, no adaptivity
tstart      = 0.0
tend        = 3.0        ; 100 steps × dt = 0.03
dt          = 0.03       ; 30 ms per step in your units

[solver-interfaces]
riemann-solver = rusanov

; ---------- ELEMENT POINT SETS (TRIANGLES) ----------

[solver-elements-tri]
soln-pts = williams-shunn
quad-deg = 3
quad-pts = williams-shunn

; ---------- INTERFACE POINT SETS (LINES) ----------

[solver-interfaces-line]
flux-pts = gauss-legendre
quad-deg = 3
quad-pts = gauss-legendre

; ---------- INITIAL CONDITION: MILD, NON-DIMENSIONAL AXIAL FLOW ----------

[soln-ics]
; Non-dimensional state:
; rho ~ 1, p ~ 1 → c ≈ sqrt(gamma) ≈ 1.18
; u = 0.2 keeps CFL modest for dt = 0.03 and dx ~ 0.5.

rho = 1.0
u   = 0.2
v   = 0.0
p   = 1.0

; ---------- BOUNDARY CONDITIONS ----------
; Names MUST match the PhysicalNames in axial-compressor.msh

[soln-bcs-inlet]
type = char-riem-inv
rho  = 1.0
u    = 0.2
v    = 0.0
p    = 1.0

[soln-bcs-outlet]
type = char-riem-inv
rho  = 1.0
u    = 0.2
v    = 0.0
p    = 1.0

[soln-bcs-wall]
type = slp-adia-wall

; ---------- OUTPUT PLUGIN ----------
; Write snapshots into CURRENT DIRECTORY, not inside the case folder.

[soln-plugin-writer]
dt-out  = 0.03          ; one file per time step
basedir = .             ; current working dir
basename = axial-compressor-{t:.2f}
format   = pyfrs
